+ ctlsock=/run/vpp/cli-vpp1.sock
+ ip netns add client
+ ip link add vpp0 type veth peer name client
+ ip link set dev client netns client
+ ip netns exec client ip link set dev lo up
+ ip netns exec client ip link set dev client up
+ ip netns exec client ip addr add 10.0.0.1/24 dev client
+ ip link set dev vpp0 up
+ ip netns exec client tc qdisc add dev client root netem loss 15% delay 100ms 300ms duplicate 10%
+ ip netns add server
+ ip link add vpp1 type veth peer name server
+ ip link set dev server netns server
+ ip netns exec server ip link set dev lo up
+ ip netns exec server ip link set dev server up
+ ip netns exec server ip addr add 10.0.1.1/24 dev server
+ ip link set dev vpp1 up
+ mkdir /www
+ truncate -s 100 /www/dl
+ cat
+ ip netns exec server nginx
+ echo run
+ config_vpp
+ [[ ! -e /run/vpp/cli-vpp1.sock ]]
+ echo bt
+ sleep 1
+ gdb -x /tmp/cmds --args /usr/bin/vpp unix '{' nodaemon cli-listen /run/vpp/cli-vpp1.sock '}' api-segment '{' prefix vpp1 '}' cpu '{' workers 0 '}'
GNU gdb (Ubuntu 8.1-0ubuntu3.2) 8.1.0.20180409-git
Copyright (C) 2018 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
and "show warranty" for details.
This GDB was configured as "x86_64-linux-gnu".
Type "show configuration" for configuration details.
For bug reporting instructions, please see:
<http://www.gnu.org/software/gdb/bugs/>.
Find the GDB manual and other documentation resources online at:
<http://www.gnu.org/software/gdb/documentation/>.
For help, type "help".
Type "apropos word" to search for commands related to "word"...
Reading symbols from /usr/bin/vpp...Reading symbols from /usr/lib/debug/.build-id/7b/90a35fda2bdbc74dca8f73684b6f13e3cfce1c.debug...done.
done.
[Thread debugging using libthread_db enabled]
Using host libthread_db library "/lib/x86_64-linux-gnu/libthread_db.so.1".
+ [[ ! -e /run/vpp/cli-vpp1.sock ]]
+ sleep 1
/usr/bin/vpp[39]: clib_elf_parse_file: open `linux-vdso.so.1': No such file or directory
/usr/bin/vpp[39]: clib_elf_parse_file: open `linux-vdso.so.1': No such file or directory
/usr/bin/vpp[39]: vat-plug/load: vat_plugin_register: oddbuf plugin not loaded...
/usr/bin/vpp[39]: vat-plug/load: vat_plugin_register: oddbuf plugin not loaded...

+ [[ ! -e /run/vpp/cli-vpp1.sock ]]
+ ctl create host-interface name vpp0
+ vppctl -s /run/vpp/cli-vpp1.sock create host-interface name vpp0
host-vpp0
+ ctl set interface state host-vpp0 up
+ vppctl -s /run/vpp/cli-vpp1.sock set interface state host-vpp0 up
+ ctl set interface ip address host-vpp0 10.0.0.2/24
+ vppctl -s /run/vpp/cli-vpp1.sock set interface ip address host-vpp0 10.0.0.2/24
+ ctl create host-interface name vpp1
+ vppctl -s /run/vpp/cli-vpp1.sock create host-interface name vpp1
host-vpp1
+ ctl set interface state host-vpp1 up
+ vppctl -s /run/vpp/cli-vpp1.sock set interface state host-vpp1 up
+ ctl set interface ip address host-vpp1 10.0.1.2/24
+ vppctl -s /run/vpp/cli-vpp1.sock set interface ip address host-vpp1 10.0.1.2/24
+ ctl http static server www-root /www uri tcp://0.0.0.0/80 cache-size 2m
+ vppctl -s /run/vpp/cli-vpp1.sock http static server www-root /www uri tcp://0.0.0.0/80 cache-size 2m
+ ctl test proxy server server-uri tcp://10.0.0.2/555 client-uri tcp://10.0.1.1/666
+ vppctl -s /run/vpp/cli-vpp1.sock test proxy server server-uri tcp://10.0.0.2/555 client-uri tcp://10.0.1.1/666
/usr/bin/vpp[39]: /src/vpp/src/vnet/tcp/tcp_input.c:2857 (tcp46_input_inline) assertion `tcp_lookup_is_valid (tc1, b[1], tcp_buffer_hdr (b[1]))' fails
/usr/bin/vpp[39]: /src/vpp/src/vnet/tcp/tcp_input.c:2857 (tcp46_input_inline) assertion `tcp_lookup_is_valid (tc1, b[1], tcp_buffer_hdr (b[1]))' fails

Program received signal SIGABRT, Aborted.
0x00007ffff4723f47 in raise () from /lib/x86_64-linux-gnu/libc.so.6
#0  0x00007ffff4723f47 in raise () from /lib/x86_64-linux-gnu/libc.so.6
#1  0x00007ffff47258b1 in abort () from /lib/x86_64-linux-gnu/libc.so.6
#2  0x0000000000407193 in os_panic () at /src/vpp/src/vpp/vnet/main.c:371
#3  0x00007ffff5604619 in debugger () at /src/vpp/src/vppinfra/error.c:84
#4  0x00007ffff5604397 in _clib_error (how_to_die=2, function_name=0x0, 
    line_number=0, fmt=0x7ffff76dd1b0 "%s:%d (%s) assertion `%s' fails")
---Type <return> to continue, or q <return> to quit---
    at /src/vpp/src/vppinfra/error.c:143
#5  0x00007ffff681e817 in tcp46_input_inline (
    vm=0x7ffff648fb80 <vlib_global_main>, node=0x7fffb4b0d700, 
    frame=0x7fffb5a27600, is_ip4=1, is_nolookup=0 '\000')
    at /src/vpp/src/vnet/tcp/tcp_input.c:2857
#6  0x00007ffff681ef2d in tcp4_input_node_fn_hsw (
    vm=0x7ffff648fb80 <vlib_global_main>, node=0x7fffb4b0d700, 
    from_frame=0x7fffb5a27600) at /src/vpp/src/vnet/tcp/tcp_input.c:2993
#7  0x00007ffff61d6af6 in dispatch_node (vm=0x7ffff648fb80 <vlib_global_main>, 
    node=0x7fffb4b0d700, type=VLIB_NODE_TYPE_INTERNAL, 
    dispatch_state=VLIB_NODE_STATE_POLLING, frame=0x7fffb5a27600, 
    last_time_stamp=10911997521510608) at /src/vpp/src/vlib/main.c:1194
#8  0x00007ffff61d75d7 in dispatch_pending_node (
    vm=0x7ffff648fb80 <vlib_global_main>, pending_frame_index=9, 
    last_time_stamp=10911997521510608) at /src/vpp/src/vlib/main.c:1353
#9  0x00007ffff61d11c5 in vlib_main_or_worker_loop (
    vm=0x7ffff648fb80 <vlib_global_main>, is_main=1)
    at /src/vpp/src/vlib/main.c:1848
#10 0x00007ffff61d2f4a in vlib_main_loop (vm=0x7ffff648fb80 <vlib_global_main>)
    at /src/vpp/src/vlib/main.c:1976
#11 0x00007ffff61d2d17 in vlib_main (vm=0x7ffff648fb80 <vlib_global_main>, 
    input=0x7fffb4de8fa8) at /src/vpp/src/vlib/main.c:2222
#12 0x00007ffff625b18e in thread0 (arg=140737325366144)
---Type <return> to continue, or q <return> to quit---
    at /src/vpp/src/vlib/unix/main.c:660
#13 0x00007ffff56287a4 in clib_calljmp ()
    at /src/vpp/src/vppinfra/longjmp.S:123
#14 0x00007fffffffd730 in ?? ()
#15 0x00007ffff625ad03 in vlib_unix_main (argc=17, argv=0x7fffffffec68)
    at /src/vpp/src/vlib/unix/main.c:733
#16 0x0000000000406878 in main (argc=17, argv=0x7fffffffec68)
    at /src/vpp/src/vpp/vnet/main.c:296
