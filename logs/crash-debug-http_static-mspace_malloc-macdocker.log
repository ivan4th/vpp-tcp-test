+ ctlsock=/run/vpp/cli-vpp1.sock
+ ip netns add client
+ ip link add vpp0 type veth peer name client
+ ip link set dev client netns client
+ ip netns exec client ip link set dev lo up
+ ip netns exec client ip link set dev client up
+ ip netns exec client ip addr add 10.0.0.1/24 dev client
+ ip link set dev vpp0 up
+ ip netns exec client tc qdisc add dev client root netem loss 15% delay 100ms 300ms duplicate 10%
+ ip netns add server
+ ip link add vpp1 type veth peer name server
+ ip link set dev server netns server
+ ip netns exec server ip link set dev lo up
+ ip netns exec server ip link set dev server up
+ ip netns exec server ip addr add 10.0.1.1/24 dev server
+ ip link set dev vpp1 up
+ mkdir /www
+ truncate -s 100 /www/dl
+ cat
+ ip netns exec server nginx
+ echo run
+ echo bt
+ gdb -x /tmp/cmds --args /usr/bin/vpp unix '{' nodaemon cli-listen /run/vpp/cli-vpp1.sock '}' api-segment '{' prefix vpp1 '}' cpu '{' workers 0 '}'
+ config_vpp
+ [[ ! -e /run/vpp/cli-vpp1.sock ]]
+ sleep 1
GNU gdb (Ubuntu 8.1-0ubuntu3.2) 8.1.0.20180409-git
Copyright (C) 2018 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
and "show warranty" for details.
This GDB was configured as "x86_64-linux-gnu".
Type "show configuration" for configuration details.
For bug reporting instructions, please see:
<http://www.gnu.org/software/gdb/bugs/>.
Find the GDB manual and other documentation resources online at:
<http://www.gnu.org/software/gdb/documentation/>.
For help, type "help".
Type "apropos word" to search for commands related to "word"...
Reading symbols from /usr/bin/vpp...Reading symbols from /usr/lib/debug/.build-id/f9/317128c2a0835e72bf8bf269def2f2c945fb28.debug...done.
done.
[Thread debugging using libthread_db enabled]
Using host libthread_db library "/lib/x86_64-linux-gnu/libthread_db.so.1".
+ [[ ! -e /run/vpp/cli-vpp1.sock ]]
+ sleep 1
/usr/bin/vpp[47]: clib_elf_parse_file: open `linux-vdso.so.1': No such file or directory
/usr/bin/vpp[47]: clib_elf_parse_file: open `linux-vdso.so.1': No such file or directory
/usr/bin/vpp[47]: vat-plug/load: vat_plugin_register: oddbuf plugin not loaded...
/usr/bin/vpp[47]: vat-plug/load: vat_plugin_register: oddbuf plugin not loaded...

+ [[ ! -e /run/vpp/cli-vpp1.sock ]]
+ ctl create host-interface name vpp0
+ vppctl -s /run/vpp/cli-vpp1.sock create host-interface name vpp0
host-vpp0
+ ctl set interface state host-vpp0 up
+ vppctl -s /run/vpp/cli-vpp1.sock set interface state host-vpp0 up
+ ctl set interface ip address host-vpp0 10.0.0.2/24
+ vppctl -s /run/vpp/cli-vpp1.sock set interface ip address host-vpp0 10.0.0.2/24
+ ctl create host-interface name vpp1
+ vppctl -s /run/vpp/cli-vpp1.sock create host-interface name vpp1
host-vpp1
+ ctl set interface state host-vpp1 up
+ vppctl -s /run/vpp/cli-vpp1.sock set interface state host-vpp1 up
+ ctl set interface ip address host-vpp1 10.0.1.2/24
+ vppctl -s /run/vpp/cli-vpp1.sock set interface ip address host-vpp1 10.0.1.2/24
+ ctl http static server www-root /www uri tcp://0.0.0.0/80 cache-size 2m
+ vppctl -s /run/vpp/cli-vpp1.sock http static server www-root /www uri tcp://0.0.0.0/80 cache-size 2m
+ ctl test proxy server server-uri tcp://10.0.0.2/555 client-uri tcp://10.0.1.1/666
+ vppctl -s /run/vpp/cli-vpp1.sock test proxy server server-uri tcp://10.0.0.2/555 client-uri tcp://10.0.1.1/666

Program received signal SIGSEGV, Segmentation fault.
0x00007ffff55d909c in ok_magic (m=0x0) at /src/vpp/src/vppinfra/dlmalloc.c:1623
1623	/src/vpp/src/vppinfra/dlmalloc.c: No such file or directory.
#0  0x00007ffff55d909c in ok_magic (m=0x0) at /src/vpp/src/vppinfra/dlmalloc.c:1623
#1  0x00007ffff55d9604 in mspace_malloc (msp=0x0, bytes=316)
    at /src/vpp/src/vppinfra/dlmalloc.c:4367
#2  0x00007ffff55d94e9 in mspace_get_aligned (msp=0x0, n_user_data_bytes=316, align=64, 
    align_offset=56) at /src/vpp/src/vppinfra/dlmalloc.c:4254
#3  0x00007ffff56c15cf in clib_mem_alloc_aligned_at_offset (size=248, align=64, 
---Type <return> to continue, or q <return> to quit---
    align_offset=56, os_out_of_memory_on_failure=1) at /src/vpp/src/vppinfra/mem.h:142
#4  0x00007ffff56c11b8 in vec_resize_allocate_memory (v=0x0, length_increment=1, 
    data_bytes=248, header_bytes=56, data_align=64, numa_id=0) at /src/vpp/src/vppinfra/vec.c:67
#5  0x00007fffb0e15780 in _vec_resize_inline (v=0x0, length_increment=1, data_bytes=192, 
    header_bytes=48, data_align=64, numa_id=0) at /src/vpp/src/vppinfra/vec.h:170
#6  0x00007fffb0e235e9 in http_static_server_session_alloc (thread_index=0)
    at /src/vpp/src/plugins/http_static/static_server.c:137
#7  0x00007fffb0e2311c in http_static_server_session_accept_callback (s=0x7fffb58f5680)
    at /src/vpp/src/plugins/http_static/static_server.c:1061
#8  0x00007ffff745f71e in app_worker_accept_notify (app_wrk=0x7fffb51f5340, s=0x7fffb58f5680)
    at /src/vpp/src/vnet/session/application_worker.c:381
#9  0x00007ffff73f423f in session_stream_accept_notify (tc=0x7fffb59f2cc0)
    at /src/vpp/src/vnet/session/session.c:1093
#10 0x00007ffff681d5d1 in tcp46_rcv_process_inline (vm=0x7ffff648fb80 <vlib_global_main>, 
    node=0x7fffb52e7000, from_frame=0x7fffb5a18080, is_ip4=1)
    at /src/vpp/src/vnet/tcp/tcp_input.c:2223
#11 0x00007ffff681d24a in tcp4_rcv_process_node_fn_hsw (vm=0x7ffff648fb80 <vlib_global_main>, 
    node=0x7fffb52e7000, from_frame=0x7fffb5a18080) at /src/vpp/src/vnet/tcp/tcp_input.c:2500
#12 0x00007ffff61d6af6 in dispatch_node (vm=0x7ffff648fb80 <vlib_global_main>, 
    node=0x7fffb52e7000, type=VLIB_NODE_TYPE_INTERNAL, dispatch_state=VLIB_NODE_STATE_POLLING, 
    frame=0x7fffb5a18080, last_time_stamp=1836657323751198) at /src/vpp/src/vlib/main.c:1194
#13 0x00007ffff61d75d7 in dispatch_pending_node (vm=0x7ffff648fb80 <vlib_global_main>, 
    pending_frame_index=5, last_time_stamp=1836657323751198) at /src/vpp/src/vlib/main.c:1353
---Type <return> to continue, or q <return> to quit---
#14 0x00007ffff61d11c5 in vlib_main_or_worker_loop (vm=0x7ffff648fb80 <vlib_global_main>, 
    is_main=1) at /src/vpp/src/vlib/main.c:1848
#15 0x00007ffff61d2f4a in vlib_main_loop (vm=0x7ffff648fb80 <vlib_global_main>)
    at /src/vpp/src/vlib/main.c:1976
#16 0x00007ffff61d2d17 in vlib_main (vm=0x7ffff648fb80 <vlib_global_main>, input=0x7fffb4debfa8)
    at /src/vpp/src/vlib/main.c:2222
#17 0x00007ffff625b18e in thread0 (arg=140737325366144) at /src/vpp/src/vlib/unix/main.c:660
#18 0x00007ffff56287a4 in clib_calljmp () at /src/vpp/src/vppinfra/longjmp.S:123
#19 0x00007fffffffd730 in ?? ()
#20 0x00007ffff625ad03 in vlib_unix_main (argc=17, argv=0x7fffffffec68)
    at /src/vpp/src/vlib/unix/main.c:733
#21 0x0000000000406878 in main (argc=17, argv=0x7fffffffec68)
    at /src/vpp/src/vpp/vnet/main.c:296
