+ ctlsock=/run/vpp/cli-vpp1.sock
+ ip netns add client
+ ip link add vpp0 type veth peer name client
+ ip link set dev client netns client
+ ip netns exec client ip link set dev lo up
+ ip netns exec client ip link set dev client up
+ ip netns exec client ip addr add 10.0.0.1/24 dev client
+ ip link set dev vpp0 up
+ ip netns exec client tc qdisc add dev client root netem loss 15% delay 100ms 300ms duplicate 10%
+ ip netns add server
+ ip link add vpp1 type veth peer name server
+ ip link set dev server netns server
+ ip netns exec server ip link set dev lo up
+ ip netns exec server ip link set dev server up
+ ip netns exec server ip addr add 10.0.1.1/24 dev server
+ ip link set dev vpp1 up
+ mkdir /www
+ truncate -s 100 /www/dl
+ cat
+ ip netns exec server nginx
+ echo run
+ config_vpp
+ echo bt
+ [[ ! -e /run/vpp/cli-vpp1.sock ]]
+ sleep 1
+ gdb -x /tmp/cmds --args /usr/bin/vpp unix '{' nodaemon cli-listen /run/vpp/cli-vpp1.sock '}' api-segment '{' prefix vpp1 '}' cpu '{' workers 0 '}'
GNU gdb (Ubuntu 8.1-0ubuntu3.2) 8.1.0.20180409-git
Copyright (C) 2018 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
and "show warranty" for details.
This GDB was configured as "x86_64-linux-gnu".
Type "show configuration" for configuration details.
For bug reporting instructions, please see:
<http://www.gnu.org/software/gdb/bugs/>.
Find the GDB manual and other documentation resources online at:
<http://www.gnu.org/software/gdb/documentation/>.
For help, type "help".
Type "apropos word" to search for commands related to "word"...
Reading symbols from /usr/bin/vpp...Reading symbols from /usr/lib/debug/.build-id/ca/0867fa1da231a62698a23528b3114ff197e686.debug...done.
done.
[Thread debugging using libthread_db enabled]
Using host libthread_db library "/lib/x86_64-linux-gnu/libthread_db.so.1".
+ [[ ! -e /run/vpp/cli-vpp1.sock ]]
+ sleep 1
/usr/bin/vpp[39]: clib_elf_parse_file: open `linux-vdso.so.1': No such file or directory
/usr/bin/vpp[39]: clib_elf_parse_file: open `linux-vdso.so.1': No such file or directory
/usr/bin/vpp[39]: vat-plug/load: vat_plugin_register: oddbuf plugin not loaded...
/usr/bin/vpp[39]: vat-plug/load: vat_plugin_register: oddbuf plugin not loaded...

+ [[ ! -e /run/vpp/cli-vpp1.sock ]]
+ ctl create host-interface name vpp0
+ vppctl -s /run/vpp/cli-vpp1.sock create host-interface name vpp0
host-vpp0
+ ctl set interface state host-vpp0 up
+ vppctl -s /run/vpp/cli-vpp1.sock set interface state host-vpp0 up
+ ctl set interface ip address host-vpp0 10.0.0.2/24
+ vppctl -s /run/vpp/cli-vpp1.sock set interface ip address host-vpp0 10.0.0.2/24
+ ctl create host-interface name vpp1
+ vppctl -s /run/vpp/cli-vpp1.sock create host-interface name vpp1
host-vpp1
+ ctl set interface state host-vpp1 up
+ vppctl -s /run/vpp/cli-vpp1.sock set interface state host-vpp1 up
+ ctl set interface ip address host-vpp1 10.0.1.2/24
+ vppctl -s /run/vpp/cli-vpp1.sock set interface ip address host-vpp1 10.0.1.2/24
+ ctl http static server www-root /www uri tcp://0.0.0.0/80 cache-size 2m
+ vppctl -s /run/vpp/cli-vpp1.sock http static server www-root /www uri tcp://0.0.0.0/80 cache-size 2m
+ ctl test proxy server server-uri tcp://10.0.0.2/555 client-uri tcp://10.0.1.1/666
+ vppctl -s /run/vpp/cli-vpp1.sock test proxy server server-uri tcp://10.0.0.2/555 client-uri tcp://10.0.1.1/666
/usr/bin/vpp[39]: state_sent_ok:973: BUG: couldn't send response header!
/usr/bin/vpp[39]: state_sent_ok:973: BUG: couldn't send response header!

Program received signal SIGSEGV, Segmentation fault.
0x00007ffff4fdcfb9 in timer_remove (pool=0x7fffb56f3c88, elt=<optimized out>)
    at /src/vpp/src/vppinfra/tw_timer_template.c:154
154	/src/vpp/src/vppinfra/tw_timer_template.c: No such file or directory.
#0  0x00007ffff4fdcfb9 in timer_remove (pool=0x7fffb56f3c88, elt=<optimized out>)
    at /src/vpp/src/vppinfra/tw_timer_template.c:154
#1  tw_timer_stop_2t_1w_2048sl (tw=0x7fffb0968728 <http_static_server_main+288>, handle=11736)
    at /src/vpp/src/vppinfra/tw_timer_template.c:374
#2  0x00007fffb076246f in http_static_server_session_timer_stop (hs=<optimized out>)
---Type <return> to continue, or q <return> to quit---
    at /src/vpp/src/plugins/http_static/static_server.c:126
#3  http_static_server_rx_tx_callback (s=0x7fffb5c88dc0, cf=CALLED_FROM_RX)
    at /src/vpp/src/plugins/http_static/static_server.c:1026
#4  0x00007fffb0761eb8 in http_static_server_rx_callback (
    s=0x7fffb0968728 <http_static_server_main+288>)
    at /src/vpp/src/plugins/http_static/static_server.c:1037
#5  0x00007ffff774a9be in app_worker_builtin_rx (app_wrk=<optimized out>, s=0x7fffb5c88dc0)
    at /src/vpp/src/vnet/session/application_worker.c:485
#6  app_send_io_evt_rx (app_wrk=<optimized out>, s=0x7fffb5c88dc0)
    at /src/vpp/src/vnet/session/application_worker.c:691
#7  0x00007ffff7713d7a in session_enqueue_notify_inline (s=0x7fffb5c88dc0)
    at /src/vpp/src/vnet/session/session.c:632
#8  0x00007ffff7713fb1 in session_main_flush_enqueue_events (transport_proto=<optimized out>, 
    thread_index=0) at /src/vpp/src/vnet/session/session.c:736
#9  0x00007ffff63960e9 in tcp46_established_inline (vm=0x7ffff5ddc6c0 <vlib_global_main>, 
    node=<optimized out>, frame=<optimized out>, is_ip4=1)
    at /src/vpp/src/vnet/tcp/tcp_input.c:1558
#10 tcp4_established_node_fn_hsw (vm=0x7ffff5ddc6c0 <vlib_global_main>, node=<optimized out>, 
    from_frame=0x7fffb549df80) at /src/vpp/src/vnet/tcp/tcp_input.c:1573
#11 0x00007ffff5b5f509 in dispatch_node (vm=0x7ffff5ddc6c0 <vlib_global_main>, 
    node=0x7fffb43db400, type=VLIB_NODE_TYPE_INTERNAL, dispatch_state=VLIB_NODE_STATE_POLLING, 
    frame=<optimized out>, last_time_stamp=<optimized out>) at /src/vpp/src/vlib/main.c:1194
#12 dispatch_pending_node (vm=0x7ffff5ddc6c0 <vlib_global_main>, 
---Type <return> to continue, or q <return> to quit---
    pending_frame_index=<optimized out>, last_time_stamp=<optimized out>)
    at /src/vpp/src/vlib/main.c:1353
#13 vlib_main_or_worker_loop (vm=<optimized out>, is_main=1) at /src/vpp/src/vlib/main.c:1848
#14 vlib_main_loop (vm=<optimized out>) at /src/vpp/src/vlib/main.c:1976
#15 0x00007ffff5b5daf0 in vlib_main (vm=0x7ffff5ddc6c0 <vlib_global_main>, input=0x7fffb47b0fb0)
    at /src/vpp/src/vlib/main.c:2222
#16 0x00007ffff5bc2816 in thread0 (arg=140737318340288) at /src/vpp/src/vlib/unix/main.c:660
#17 0x00007ffff4fa9ec4 in clib_calljmp () from /usr/lib/x86_64-linux-gnu/libvppinfra.so.20.09
#18 0x00007fffffffd8b0 in ?? ()
#19 0x00007ffff5bc27c8 in vlib_unix_main (argc=<optimized out>, argv=<optimized out>)
    at /src/vpp/src/vlib/unix/main.c:733
#20 0x00000038c53c8342 in ?? ()
#21 0x4a00000101850f00 in ?? ()
#22 0x4100000040c5048b in ?? ()
#23 0xffff58858b184789 in ?? ()
#24 0xe9c0311c478941ff in ?? ()
#25 0x00401f0ffffffe9f in ?? ()
#26 0x48ffffff60b58d48 in ?? ()
#27 0xe800000020badf89 in ?? ()
#28 0xe8588d4c000016e4 in ?? ()
#29 0xb9df8948a0558d48 in ?? ()
#30 0x3885894800000010 in ?? ()
#31 0x894cde894cffffff in ?? ()
